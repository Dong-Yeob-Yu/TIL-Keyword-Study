# TIL - [DNS가 작동하는 원리]

## 📅 날짜
[2024-12-06]

---

## 📌 학습 키워드
- [DNS가 작동하는 원리]

---

## 📖 오늘 배운 내용

### 🔹 Keyword1: [DNS가 작동하는 원리]

- DNS 란 ?
   - 웹사이트의 도메인 이름을 IP 주소로 변환하는 시스템이다. 웹 사이트는 운영서버의 IP주소에 접근을 해야하는데 IP주소는 일일이 외우기도 힘들고
     복잡하다. 그래서 지정된 도메인 이름으로 접근하면 IP주소로 변경하여 요청할 수 있다.


### 도메인을 입력했을때 동작방법 ###

1. 도메인 이름 입력 
   - 도메인 이름을 IP주소로 변환하기 위해 DNS 서버에 요청


2. DNS 캐시 확인
   - 브라우저나 OS는 IP주소를 기억하고 있으면 DNS 요청을 건너띄고 바로 IP주소로 연결된다. 
   - 일반적인 캐시와 같다


3. DNS 서버로 요청 전송
   - 2번 단계의 DNS 캐시가 없다면, DNS 서버에 입력한 도메인이 어떤 IP주소를 가지고 있는지 요청한다.


4. DNS 레코드 조회
   - DNS 서버는 도메인 이름을 어떻게 IP 주소로 변환할지 결정하는 레코드 정보를 가지고 있다. A 레코드 라는것이 도메인 이름과 연결된 IP 주소를 포함하고 있다. 그럼 DNS 서버는 A 레코드를 이용하여 IP주소를 찾는다.
   - A 레코드 (도메인 이름을 IPv4 주소로 매핑)
   - AAAA 레코드 (IPv6 주소로 매핑)
   - CNAME 레코드 (별칭 설정)
   - MX 레코드 (메일 서버 설정)


5. 찾은 IP 주소 반환
   - 도메인에 맞는 IP 주소를 반환한다.


6. 서버에 연결
   - 브라우저는 DNS 서버로 부터 받은 IP 주소를 이용해 서버에 연결을 시도한다. 이때 HTTP 요청을 통해 요청한다.


7. 웹 페이지 로딩
   - 정적파일을 받아 화면을 보여준다.



#### 알아야 하는것들 #### 
- DNS 프로퍼게이션 : 전 세계 DNS 서버에 반영되는 과정이며 전파하는데 시간이 걸림 
- DNS 보안 : DNS 스푸핑(DNS 응답을 변조하여 잘못된 IP 주소를 반환하도록 하는 공격) 또는 DNS 캐시 포이즈닝 공격을 막는 방법 = DNS Security Extensions 를 사용하여 DNS 응답 검증
- CND과 DNS : CDN은 사용자에게 가까운 서버에서 콘텐츠를 제공하여 웹 페이지 로딩시간을 줄임, DNS는 사용자 위치에 맞는 CDN 서버로 요청을 라우팅하는 역할
---
