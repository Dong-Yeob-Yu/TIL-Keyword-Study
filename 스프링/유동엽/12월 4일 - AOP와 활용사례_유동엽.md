# TIL - [AOP]

## π“… λ‚ μ§
[2024-12-04]

---

## π“ ν•™μµ ν‚¤μ›λ“
- [AOP]

---

## π“– μ¤λ λ°°μ΄ λ‚΄μ©

### π”Ή Keyword1: [AOP]

1. AOP(Aspect-Oriented Programming) ? 
    - μ†ν”„νΈμ›¨μ–΄ κ°λ° ν¨λ¬λ‹¤μ„μ¤‘ ν•λ‚λ΅ ν΅λ‹¨ κ΄€μ‹¬μ‚¬(Cross Cutting Concern)λ¥Ό λ¨λ“ν™”ν•μ—¬ μ½”λ“μ μ¤‘λ³µμ„ μ¤„μ΄κ³  μ μ§€λ³΄μλ¥Ό μ‰½κ² ν•λ‹¤. 
    - ν΅λ‹¨ κ΄€μ‹¬μ‚¬(Cross Cutting Concern) μ€ μ£Όμ” λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ³„κ°λ΅ λ¨λ“μ—μ„ κ³µν†µμ μΌλ΅ μ²λ¦¬ν•΄μ•Όν•λ” λ΅μ§μ„ μλ―Έν•λ‹¤.
    

2. AOP μ ν•„μ”μ„± ?
    - μ—¬λ¬ μ½”λ“κ°€ μ¤‘λ³µμ μΌλ΅ ν¬ν•¨λ  μ‹ μ μ§€λ³΄μκ°€ μ–΄λ ¤μ›μ§„λ‹¤. -> λ¨λ“  λ©”μ„λ“μ— νΈλμ­μ…, λ΅κ·Έ λ΅μ§ μ¶”κ°€
    - μ£Όμ” λΉ„μ¦λ‹μ¤ μ½”λ“μ™€ κ³µν†µ μ½”λ“κ°€ νΌν•©λμ–΄ κ°€λ…μ„±μ΄ μ €ν•λλ‹¤.


3. AOP μ μ£Όμ” κµ¬μ„± μ”μ† :
    1. Aspect 
       - ν΅λ‹¨ κ΄€μ‹¬μ‚¬λ¥Ό λ¨λ“ν™”ν• λ‹¨μ„, ex) λ΅κ·Έ μ²λ¦¬ λ΅μ§
       - μ¤ν”„λ§μ—μ„λ” @Aspect μ–΄λ…Έν…μ΄μ…μΌλ΅ μ •μ
    2. Join Point
       - Application μ—μ„ Aspect κ°€ μ μ©λ  μ μλ” μ‹μ 
       - μ¤ν”„λ§μ—μ„λ” λ©”μ„λ“ μ‹¤ν–‰ μ‹μ μ΄ Join Pointλ΅ λ™μ‘ν•λ‹¤.
    3. Advice
       - Join Point μ—μ„ μ‹¤ν–‰ν•  μ‘μ—…
       1. Before Advice -> λ©”μ„λ“ μ „μ— μ‹¤ν–‰
       2. After Advice -> λ©”μ„λ“ μ‹¤ν–‰ ν›„μ— μ‹¤ν–‰
       3. After Returning Advice -> λ©”μ„λ“κ°€ μ •μƒμ μΌλ΅ λ°ν™λ ν›„ μ‹¤ν–‰
       4. After Throwing Advice -> λ©”μ„λ“ μ‹¤ν–‰ μ¤‘ μμ™Έκ°€ λ°μƒν• ν›„ μ‹¤ν–‰
       5. Around Advice -> λ©”μ„λ“ μ‹¤ν–‰ μ „ν›„μ— μ‹¤ν–‰
    4. Pointcut
       - Join Point μ¤‘μ—μ„ Adviceκ°€ μ μ©λ  λ€μƒμ„ μ •μν•λ” ν‘ν„μ‹, ex) νΉμ • ν¨ν‚¤μ§€μ λ¨λ“  λ©”μ„λ“μ— Advice μ 
    5. Weaving 
       - Advice λ¥Ό μ‹¤μ  μ½”λ“μ— μ μ©ν•λ” κ³Όμ •
         - μ¤ν”„λ§μ—μ„λ” λ°νƒ€μ„ μ‹μ μ— ν”„λ΅μ‹ν¨ν„΄μ„ μ΄μ©ν•μ—¬ Weaving μ‹¤ν–‰

4. AOP μ λ™μ‘ λ°©μ‹
   1. ν”„λ΅μ‹ κ°μ²΄ μƒμ„± -> μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ AOPλ¥Ό μ μ©ν•  Beanμ ν”„λ΅μ‹ κ°μ²΄λ¥Ό μƒμ„±, ν΄λΌμ΄μ–ΈνΈλ” ν”„λ΅μ‹κ°μ²΄μ™€ μƒνΈμ‘μ©
   2. Advice μ‹¤ν–‰ -> ν”„λ΅μ‹ κ°μ²΄κ°€ Join Pointμ„ ν™•μΈν•κ³  Pointcutμ— λ§λ” Advice μ‹¤ν–‰
   3. μ›λ λ©”μ„λ“ μ‹¤ν–‰ -> Advice μ‹¤ν–‰ ν›„ λ©”μ„λ“ μ‹¤ν–‰


5. AOP ν™μ© μ‚¬λ΅€ 
    1. @Transactional
       1. λ©”μ„λ“ μ‹¤ν–‰ μ „ν›„μ— μ»¤λ°‹, λ΅¤λ°± λ“±μ΄ μλ™μΌλ΅ μ΄λ£¨μ–΄μ§„λ‹¤. 
       2. Pointcut - @Transactional μ΄ λ¶™μ€ λ©”μ†λ“
       3. Advice - νΈλμ­μ… μ‹μ‘, μ»¤λ°‹, λ΅¤λ°±
    2. Logging
       1. λ©”μ„λ“ μ‹¤ν–‰ μ „ν›„ λλ” μμ™Έ λ°μƒ μ‹ λ΅κ·Έλ¥Ό μ¶λ ¥ν•λ‹¤.
       2. Pointcut - νΉμ • ν¨ν‚¤μ§€λ‚ ν΄λμ¤μ λ¨λ“  λ©”μ„λ“μ—μ„ μ‹¤ν–‰
       3. Advice - Before, After, AfterThrowing
    3. Security
       1. λ©”μ„λ“ μ‹¤ν–‰ μ „μ— μ‚¬μ©μμ κ¶ν•μ— μ ‘κ·Όν•μ—¬ μ ‘κ·Ό μ μ–΄ 
       2. Pointcut - λ³΄μ• κ²€μ‚¬κ°€ ν•„μ”ν• λ©”μ„λ“
       3. Advice - Before, AfterThrowing
    4. Cache
       1. Pointcut - μΊμ‹± λ€μƒ λ©”μ„λ“
       2. Advice - Around : μΊμ‹μ— λ°μ΄ν„°κ°€ μμΌλ©΄ λ°ν™, μ—†μΌλ©΄ λ©”μ„λ“ μ‹¤ν–‰ ν›„ μΊμ‹±
---
